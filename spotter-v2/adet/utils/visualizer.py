import numpy as np
import pickle
from detectron2.utils.visualizer import Visualizer
import matplotlib.colors as mplc
import matplotlib.font_manager as mfm

class TextVisualizer(Visualizer):
    def __init__(self, image, metadata, instance_mode, cfg):
        Visualizer.__init__(self, image, metadata, instance_mode=instance_mode)
        self.voc_size = cfg.MODEL.TRANSFORMER.VOC_SIZE
        self.use_customer_dictionary = cfg.MODEL.TRANSFORMER.CUSTOM_DICT
        self.use_polygon = cfg.MODEL.TRANSFORMER.USE_POLYGON

        if self.voc_size==96: # english
            self.CTLABELS = [' ','!','"','#','$','%','&','\'','(',')','*','+',',','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','<','=','>','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[','\\',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~']
        
        elif self.voc_size == 14: # coordinates
            self.CTLABELS = ["0","1","2","3","4","5","6","7","8","9","'","\"","°"]
        
        elif self.voc_size == 110: # russian
            self.CTLABELS = ['А', 'Б', 'В', 'Г', 'Д', 'Е', 'Ё', 'Ж', 'З', 'И', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ъ', 'Ы', 'Ь', 'Э', 'Ю', 'Я', 'а', 'б', 'в', 'г', 'д', 'е', 'ё', 'ж', 'з', 'и', 'й', 'к', 'л', 'м', 'н', 'о', 'п', 'р', 'с', 'т', 'у', 'ф', 'х', 'ц', 'ч', 'ш', 'щ', 'ъ', 'ы', 'ь', 'э', 'ю', 'я', ' ', '!', '"', '#', '$', '%', '&', "'", '(', ')', '*', '+', ',', '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '<', '=', '>', '?', '@', '[', '\\', ']', '^', '_', '`', '{', '|', '}', '~']
            
        elif self.voc_size == 84: # arabic
            self.CTLABELS = ['ا', 'أ', 'إ', 'آ', 'ب', 'ت', 'ث', 'ج', 'ح', 'خ', 'د', 'ذ', 'ر', 'ز', 'س', 'ش', 'ص', 'ض', 'ط', 'ظ', 'ع', 'غ', 'ف', 'ق', 'ك', 'ل', 'م', 'ن', 'ه', 'و', 'ى', 'ي', 'ء', 'ئ', 'ؤ', 'ة', 'ڤ', 'ڨ', 'ڭ', 'ـ', ' ', '!', '"', '#', '$', '%', '&', "'", '(', ')', '*', '+', ',', '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '<', '=', '>', '?', '@', '[', '\\', ']', '^', '_', '`', '{', '|', '}', '~']
            
        elif self.voc_size == 7005: # chinese + japanese
            self.CTLABELS =['募', '集', '幼', '稚', '園', 'バ', 'ス', '打', '撃', 'を', '受', 'け', 'る', '以', '外', 'に', 'な', 'い', '有', '限', '公', '社', '水', '天', '宮', '通', 'り', 'ナ', 'フ', 'つ', 'く', '平', '岸', '条', '丁', '目', '明', '白', '憲', '法', '違', '反', '当', 'た', '慶', '応', '義', '塾', '大', '前', '話', 'し', '操', '作', '部', 'ロ', 'ツ', 'ク', '銀', 'だ', 'こ', 'ラ', 'ー', 'メ', 'ン', '南', '出', '口', '静', '岡', '由', '比', '港', '紺', '屋', '町', 'あ', 'じ', 'う', '日', '本', '橋', '北', '詰', 'コ', 'エ', 'ド', '恵', '美', '子', '茶', '円', '適', '用', 'よ', 'と', 'す', '試', 'み', '滕', '田', '台', '駅', 'ビ', 'ル', '小', '急', 'ズ', '都', '営', '江', '戸', '線', '産', '地', '直', '送', '楽', '笑', '栗', 'サ', 'ッ', 'シ', '量', '宅', '添', 'ん', '中', 'の', '島', '境', 'ろ', 'か', '面', 'ま', 'で', '現', '休', '診', '善', '策', '協', '議', 'さ', 'れ', 'て', '品', '月', '木', '京', '信', '金', '清', 'や', 'き', 'っ', '家', 'お', '手', '洗', '東', 'グ', '冗', '談', '言', 'ほ', 'ど', '在', 'ユ', 'ニ', 'ポ', '石', '狩', '弁', '最', '料', '藤', '堂', '和', '泉', '寺', '付', 'ち', '述', 'べ', '創', '業', '記', '念', '落', '雪', '注', '意', 'セ', 'レ', 'ト', '取', '扱', 'テ', 'ュ', 'オ', '央', '区', '珍', '豚', '人', '葵', '役', '所', '丸', '菱', '電', '機', 'ご', 'ダ', 'ィ', '車', '松', '阪', '能', '性', 'が', '高', 'ば', '店', '改', '札', '寿', '主', '張', '船', '利', '富', '士', '山', '道', '背', '向', '支', '持', '率', '華', '理', 'え', '元', '住', '吉', '登', '呂', '遺', '跡', '酔', 'ガ', 'ソ', '汚', 'も', '賢', '沢', '卜', 'イ', '郷', 'タ', 'ウ', 'リ', '漢', '城', '入', '秒', '押', 'キ', '乗', '降', '場', '重', '低', '音', '新', '宿', '站', '相', '生', '輸', '豊', '不', '動', '栄', '万', 'ォ', 'ぼ', '潜', '的', '国', '民', '負', '担', 'は', '税', '館', '止', 'ら', '世', '谷', '堤', '防', 'ブ', 'プ', '属', '決', '起', '慎', '答', '気', '安', '全', '捨', '得', '器', 'ホ', 'ヨ', 'ハ', '飲', '放', '題', '度', '食', '刊', '誌', '旅', '鮮', '市', '追', '込', 'む', '政', '府', '王', '者', '化', '粧', '室', '年', '虫', 'ミ', '村', '承', 'ゴ', 'そ', 'め', 'ぐ', 'ム', '女', '專', '西', 'マ', '麗', '門', 'ジ', '九', '州', '亭', 'せ', '迷', '惑', '三', '鷹', '御', '幸', '土', '建', '卷', '専', '池', '練', '馬', 'ヅ', '返', 'ョ', '駐', '号', '左', '折', '福', '禄', '嘉', '基', 'ひ', '野', '災', '害', '対', '居', '酒', '橫', '綱', '俊', '夫', '危', '険', '算', '巻', '煎', '餅', 'ふ', 'ょ', '喜', '多', '方', '幌', '商', '科', '学', '校', 'ボ', '形', '待', '帰', '合', '琴', '似', '選', '択', 'ぎ', '歯', '賃', '貸', '剪', '票', '飛', 'び', '火', '懸', '効', '期', 'ワ', '書', '好', 'モ', 'カ', '接', '続', '窓', '次', '会', '後', '増', '原', '週', '間', '消', '臭', '問', '検', 'パ', '百', '少', '若', '鶏', '至', '緊', '連', '絡', '先', '速', '製', '氷', '約', '説', '一', '今', '舗', '開', '催', '亀', '時', '計', 'ぶ', '二', '探', '宝', '隆', '弘', '容', '庁', 'ざ', 'ぽ', '名', '文', '施', '設', '殿', '下', '交', '番', '読', '霧', 'ヶ', '峰', '千', '疋', 'チ', 'ェ', 'ア', 'ヘ', '階', 'ぞ', '内', '閣', '指', '示', '伝', '塚', '庄', 'ゲ', '右', '海', '捜', '査', '揮', '権', '発', '長', '官', '質', '疑', '予', '定', '額', '収', 'へ', '願', '鉄', '果', '認', '点', '致', '列', 'ず', 'Ｗ', 'ｕ', 'ｓ', 'ｈ', '披', '露', '良', '座', '共', '米', '券', '胡', '版', '印', '刷', '需', '要', '坊', '位', '上', '昇', '泡', '浄', '分', '宴', '様', '秋', '葉', '奉', '仕', '七', '味', '噌', '加', '工', '論', '争', '繰', '広', 'げ', '崎', '戦', '猛', '犬', '盛', '四', '投', 'ノ', '靜', '聞', '警', '察', '首', 'ゃ', '呉', '服', '来', 'ヤ', '妝', '庫', '準', '減', '事', '務', '曲', '昼', '身', '障', 'ギ', '川', 'わ', '樂', '枚', '炭', '鳥', '焼', '祝', '思', 'ぬ', 'ぷ', '感', '蔵', '尊', '氏', '井', '床', '暖', '房', '完', '備', '標', '凖', '刻', '表', '可', '駿', '委', '員', '皮', 'ピ', '無', '成', '功', '樣', '物', 'ネ', 'ね', '仙', '神', '真', '赤', '桜', '行', '代', 'ケ', '興', '株', '確', 'ヴ', '男', '案', '自', '體', '驗', '散', '栓', '八', '幡', '実', 'ヌ', '歩', '笹', '浪', '克', '博', 'ヲ', '両', '整', '骨', '院', '德', '洙', '軽', '県', '立', '術', '使', '録', '柳', '早', '佳', '特', '署', '結', '過', '喰', '歓', '迎', '足', '武', '転', '垣', '循', '環', '李', '菀', '五', '色', '燦', '近', '隣', '初', '流', '鮨', '喫', '煙', '席', '濡', '告', '許', '渡', 'Ｃ', 'Ｂ', '経', '影', '響', '去', '超', '党', '昭', '汁', 'ヵ', '夕', '各', '湯', '命', '規', '空', '正', '同', 'ゾ', '画', '遊', 'ベ', '夜', 'ャ', 'デ', '歡', '総', '停', '飯', '遠', '慮', '見', '想', '給', '築', '槍', '母', '唇', '何', '饅', '頭', '保', '護', '技', '進', '遅', '學', '関', '心', '費', '幹', '羽', '黒', '摘', '亍', '犯', '力', '革', '釜', '始', '族', '希', '望', '未', '評', '価', '々', '麺', '式', '阿', '緑', '丘', '司', '唸', 'ぺ', '証', '企', '販', '売', '洋', '深', '層', '芳', '賀', '輪', '推', '龜', '數', '路', '声', '綠', '般', '患', '極', '古', '盤', '格', '歴', '史', '蔦', '教', '育', '运', '庭', 'ァ', '終', '了', '客', '強', '変', '鋪', '訟', '件', '余', '運', '図', '提', '郵', '便', '局', '寅', '乃', '虎', '養', '召', '板', '營', '忍', 'ザ', '街', '洲', '厳', '魚', '于', '歳', '罪', '十', '佐', '医', '快', '軒', '再', '配', '曜', '午', '払', '乙', '刺', '差', '陸', '衛', '隊', '屯', 'ゆ', '豆', '灯', '智', '裁', '判', '託', '故', '禁', '満', '腹', '達', '回', '横', '浜', '廃', '棄', '処', '申', '例', '粉', '飾', '械', '具', '置', '惜', '尽', '握', '貫', '兒', '貨', '穀', '寄', '濯', '鼻', '病', '菓', '輔', '請', '稻', '常', '肉', '舎', 'づ', 'ペ', '随', '略', '造', '究', '買', '求', '之', '六', '際', '型', '弱', '吃', '津', '甘', '邊', '紀', '雄', '薄', '界', '迫', '療', '伊', '秘', '厚', '丈', 'ぉ', '順', '末', '挨', '拶', '抗', '菌', '芝', '側', '断', '礼', '儀', '然', '哲', '網', '羅', '材', '筋', '硬', '縮', '痛', '是', '穴', '呼', '衣', '祥', '沿', '盧', '統', '領', '雲', '済', '識', 'ヒ', '等', '牛', '謝', '泊', '冷', '凍', '浦', '仁', '考', '情', '報', '隠', '惣', '菜', '職', '底', '航', '挙', '遂', '非', '盟', '映', '燃', '制', '久', '稿', '管', '必', '倶', '状', '態', '糀', '団', '圓', '死', '曽', '季', '肴', 'ぱ', '缶', '砂', 'Ｏ', 'Ｅ', 'Ｄ', '第', '財', '夢', '児', '兵', '蕓', '祉', '芦', '花', '供', '潔', '誠', '替', '補', '薬', '膳', 'Ｐ', '帳', '編', '剣', '継', '切', '親', '含', '排', '裏', '段', '鐵', '條', '係', '釣', '銭', '湾', '任', '墟', '盗', '聴', '滴', '染', '症', '振', '矢', '顧', '勘', '瞬', '融', '槽', '活', '蕎', '麦', '調', '布', '巴', '研', '碗', '蒸', '嫌', '峠', '婦', '徳', '烏', 'ぃ', '柿', '種', '課', '孝', '精', '森', '苦', '角', '援', '怪', '辻', '弾', '總', '璧', '俳', '優', '個', '冬', '浴', '熱', '肌', '老', '促', '貞', '郎', '宣', '貌', '悪', '焦', '治', '箇', '誓', '畿', '迴', '轉', '壽', '占', '叱', '咤', '与', '構', '浅', '観', '光', '省', '測', '却', '益', 'ぅ', '荷', '体', '幅', '解', '訪', '茂', '樹', '農', '亡', '程', '闘', '値', '引', '灸', '珈', '琲', '為', '因', '乘', '拔', '旧', '組', '導', '討', '異', '宇', '晩', '酌', '逮', '捕', '袋', '徐', '控', '訴', '別', '針', '才', '墨', '朝', '勝', '椎', '茸', '梅', '林', '衝', '突', '忠', '臣', '媒', '剤', '液', '越', '魂', '丹', '契', '滑', '温', '削', '釈', '里', '剛', '習', '吴', '吸', '菸', '星', '逸', '屈', '脱', '封', '筒', '衡', '換', '源', '辛', '就', '童', 'ゼ', '靖', '仲', '数', '滅', '髙', '顔', '載', '恨', '踊', '描', '韓', '拒', '否', '破', '岩', '瀬', '巨', '震', '唆', '青', '蘭', '執', '圈', '退', '遇', '芉', '尾', '紡', '乱', '河', '鴨', '斜', '激', '劣', '演', '拍', '喝', '采', '素', '楕', '臨', '薛', '億', '割', '朴', '逆', '攻', '勢', '即', '析', '守', '健', '忘', '陷', '經', '濟', '半', '充', '復', '徴', '着', '厦', '鎌', '倉', '欲', '吹', '風', '壱', '賞', 'ぇ', '侍', 'Ｋ', 'Ａ', 'Ｌ', '監', '視', '験', '抜', '群', '愁', '鹿', '牧', '草', '邱', '除', '細', '移', '簡', '単', '彩', '糖', '尿', '鍋', '杉', '語', '頼', '崩', '債', '鞄', '倍', '暮', '私', '節', '存', '慈', '惠', '繁', '被', '球', '佶', '汀', '彼', '損', '冠', '根', '類', '挫', '傷', '畑', '班', '燒', '頑', '固', '及', '介', '貿', '易', '罰', '象', '雨', '揚', '難', '措', 'Ｓ', '蜜', '芋', '納', '漂', '級', '卓', '哉', '祖', '微', '乎', '其', '乾', '燥', '愚', '膚', '毛', '康', '寢', '貯', '趙', '参', '刑', '咲', '塩', '漬', '拡', '疎', '包', '展', '僕', '紙', '寸', '永', '薙', '輌', '耐', '髪', '綜', '閉', '眼', '鏡', '恩', '庶', '榜', '沖', '縄', '穂', '劑', '系', '慢', '摂', '鐘', '鳴', '尻', '審', '翌', '資', '複', '騒', '錯', '憂', '岳', '己', '救', '蓄', '字', '幕', '旨', '絨', '毯', '講', '譲', 'ヮ', '知', '悽', '絶', '留', '志', '醜', '奈', '酵', '働', '抑', '労', '壮', '效', '叫', '較', '垚', '看', '濫', '遡', '姓', '關', '励', '英', '螢', '装', '況', '葛', '延', '暗', '宙', '戒', '姿', '渓', '架', '絵', '照', '欠', '龍', '浸', '透', '助', '妻', '途', '柔', '扎', '敢', '當', '臓', '搏', '恋', '愛', '倫', '黙', '又', '勧', '愉', '賠', '責', '婆', '埠', '香', '帝', '附', '授', '購', '櫓', '宵', '普', '積', '模', '浮', '彫', '脂', '肪', '邪', '魔', '兄', 'Ｉ', '太', '陣', '勇', '僑', '灰', '敷', '脚', '寒', '短', '概', '雜', '履', '修', '勤', '舟', '著', '競', '玉', '維', '拝', '歪', '毎', '涙', '奏', '賜', '腦', '章', '崗', '耗', '招', 'ｍ', '据', '炉', '筏', '煌', '輝', '候', '君', '棒', '裂', '避', '伸', '波', '紋', '妙', '敬', '區', '屑', '湖', '莫', '煮', '卒', '傾', '娩', '賑', '免', '項', '牡', '籍', '景', '辞', '誇', '啓', '更', '插', '友', '努', '暴', '剰', '溢', '殺', '純', '黑', '矯', '端', '残', '鴉', '密', '撤', '鉉', '酢', '域', '歌', '舞', '伎', '頂', '踏', '他', '隔', '均', '軍', '洪', '貢', '献', '植', 'ｖ', '誰', '締', '油', '喀', '血', '郡', '姦', '忙', '樽', '覚', '蔚', 'Ｖ', '拾', '奔', '走', '枠', '令', '馴', '湿', '射', '逹', '息', 'Ｍ', '摩', '陰', '陽', '黄', '緩', 'Ｒ', 'ｔ', 'ｙ', 'ｒ', 'ａ', 'ｎ', '漏', '懲', '雇', '藥', '詳', '紹', '憾', '臼', '挽', '胞', '混', '坪', '鑑', '圧', 'ぴ', '楊', '誘', '威', '旬', '崇', '彭', '滉', '孫', '鶴', '圭', '魅', '渇', '憶', '汲', '寝', '覧', '梨', '帯', '渉', '驚', '亜', '従', '昨', '悩', '伯', '周', '疾', '芸', '副', '括', '銘', '柄', '失', '父', 'ヱ', '撮', '炙', '戻', '贈', '写', '像', '掲', '渋', '祭', 'Ｘ', '錦', '冊', '翻', '訳', '寓', '豪', '衆', 'Ｇ', '尹', 'ｏ', '紛', '禹', '錫', '我', '禍', '陥', '核', '恐', '怖', '耕', '肩', '僚', '阻', '寧', '膨', 'Ｙ', 'Ｔ', 'Ｎ', '懐', '幣', '搬', '謡', '師', '虚', '揺', '詞', '悟', '懇', '斎', '毒', '偏', '蘇', '洞', '羞', '恥', '滞', '拘', '束', '迅', '沈', '貧', '困', '抱', 'ぜ', '訓', '奥', '胸', '尋', '往', '蹴', '離', '璽', '勉', 'ｌ', 'ｅ', '慣', '誤', '織', '依', '胃', '酸', '碑', '俗', '祈', '圏', '拠', '茎', '採', '批', '准', '触', '緒', '荒', '則', '挿', 'Ｈ', '併', '謀', '權', '敦', '廷', '甲', '囲', '尖', '挟', '偶', '卑', 'Ｆ', '隅', '暇', '勲', '壌', '索', '傍', '鍼', 'ｗ', '腰', '脇', '藏', '敏', '賛', '績', '逐', '径', '肺', '縦', '堅', '携', '肥', '派', '偽', '掛', '脳', '爆', '悲', '劇', '弟', '覇', '独', '斗', '粒', '齢', '荔', '滓', '憤', '筆', '謙', '遜', '句', '培', '並', '靴', '眺', '喚', '汗', '姜', '霊', '雰', '誕', '償', '頁', '杯', '頻', '妨', '泥', '沼', '趣', '辺', '乞', 'ｇ', '奴', '壊', '翼', '粋', '瑞', '址', '苗', 'ㇷ', '坂', '奄', '廻', '淵', '蜆', '埴', '瓦', '貴', '熊', '菅', '埼', '粕', '湧', '聖', '旦', '薮', '慥', '茅', '竹', '胎', '鍛', '冶', '伽', '佗', '雑', '蓮', '斫', '冥', '磐', '巌', '渠', '甚', '狭', '萱', '片', '隈', '墓', '榎', '閑', '樫', '鵜', '欅', '狼', '枕', '淀', '辰', '魯', '渭', '滝', '鴫', '蟠', '蛇', '蛎', '蕃', '昌', '蟶', '肘', '垂', '扇', '箭', '畝', '竺', '菊', '蛼', '仏', '濃', '澗', '堀', '駄', '渟', '桂', '鐙', '瀑', '鬼', '啼', '兎', '卯', '鵠', '巣', '鴬', '粟', '綾', '笛', '礒', '皇', '糠', '雁', '称', '姫', '俣', '貝', '傘', '銅', '禅', '棲', '範', '夏', '覃', '岐', '泰', '荻', '竜', '禽', '笈', '湊', '双', '嶺', '吾', '畦', '頓', '迦', '篭', '糒', '礫', '鯰', '鞭', '蜂', '荘', '楼', '堰', '潤', '鋳', '稲', '槐', '萩', '鮫', '那', '桑', '蝉', '祠', '陳', '姉', '潟', '梶', '鎗', 
                            '麻', '潮', '杜', '菟', '鈴', '揖', '叶', '鉛', '鼠', '椋', '皿', '須', '尼', '椿', '鮴', '枝', '柏', '猪', '窪', '柾', '柚', '磨', '鯵', '柴', '鯛', '櫛', '碓', '祇', '爪', '駒', '匠', '茨', '岬', '躑', '躅', '稼', '雫', '琵', '琶', '弥', '楢', '鷺', '墾', '笠', '瓜', '睦', '箱', '肝', '壇', '寂', '畠', '淡', '蕪', '鶴', '枌', '摺', '甑', '簗', '庚', '畔', '蛸', '撫', '苔', '藻', '袖', '腕', '釘', '袴', '鴻', '乳', '舌', 'ヂ', '股', '桃', '麓', '闕', '春', '於', '壁', '坑', '栃', '棚', '嫁', '騨', '此', '晶', '鍬', '鼎', '吐', '埋', '樋', '糟', 'ㇺ', '飼', '琢', '磧', '鵢', '飽', '栩', '軸', '獅', '庵', '宗', '乢', '沙', '蚊', '狐', '宜', '棋', '饒', '櫃', '灘', '砥', '叡', '籾', '戎', '獄', '霞', '伴', '頤', '箖', '鉢', '干', '怒', '姥', '諸', '鈍', '旭', '礁', '楡', '耳', '仮', '萢', '溝', '蒲', '鵯', '渦', '垰', '蛯', '猫', '綴', '蝦', '瘤', '棟', '鑿', '逢', '鳳', '猿', '鞍', '爺', '榛', '栂', '尺', '漆', '矧', '塞', '漁', '莇', '蠑', '螺', '楠', '孤', '苅', '珸', '瑶', '瑁', '峡', '鮪', '渚', '柱', '朽', '鈷', '砿', '兼', '嵩', '韮', '樺', '漉', '猪', '絹', '俵', '蛭', '碆', '翁', '碇', '閏', '串', '屏', '繋', '唐', '磯', '岫', '槭', '頬', '凅', '雷', '雎', '鳩', '橿', '硫', '葦', '峨', '筵', '鮎', '茗', '祢', '掻', '桁', '菖', '坐', 'ㇰ', '桝', '鰐', '俚', '刀', '伏', '蓋', '蓬', '塔', '篠', '覗', '嶐', '杵', '巧', '槙', '楓', '橳', '逓', '筑', '紫', '箕', '筬', '衾', '旗', '蕊', '竃', '丑', '嵯', '紅', '苫', '薩', '宰', '柑', '檀', '狄', '邸', '坏', '椚', '涼', '厩', '謨', '蓑', '恒', '汐', '槻', '巳', '蚪', 'ㇱ', '沓', '莱', '梁', '皐', '鋼', '耶', '獺', '垈', '殖', '廼', '圃', '鎮', '陵', '畳', '嚢', '瑠', '璃', '瀾', '菰', '暦', '楯', '嶼', '橘', '燕', '蔀', '掘', '蜷', '杖', '如', '澄', '臑', '捧', '糸', '櫨', '㑨', '牟', '粠', '雌', '琥', '珀', '蕀', '雀', '梓', '諌', '姑', '僧', '炎', '岱', '頃', '顕', '猶', '萪', '紗', '艶', '夷', '弓', '疣', '遣', '吟', '埣', '媼', '鼓', '鷲', '塙', '萌', '帽', '陀', '忌', '翠', '猟', '稗', '玖', '輻', '珠', '巾', '珂', '泙', '枇', '杷', '陛', '借', '蘿', '帆', '兀', '塗', '樟', '勾', '抦', '桟', '律', '畷', '箸', '諏', '鉱', '脊', '詫', '杣', '敲', '爾', '鍵', '嬉', '蛤', '閨', '堺', '邑', '乏', '梵', '窟', '巫', '頚', '摠', '唰', '賎', 'ゐ', '帖', '桧', '馳', '濁', '亦', '撰', '撲', '塘', '槢', '舂', '婇', '稠', '鈎', '縁', '狗', '鰻', '鶉', '榑', '梯', '斧', '褶', '曳', '曙', '阜', '跋', '胤', '宍', '瓢', '箪', '也', '讃', '鉈', '忽', '碧', '薑', '幾', '茄', '藍', '栴', '薊', '轟', '蓴', '苧', '峪', '陶', '塁', '梛', '符', '蟹', '椣', '朱', '檳', '榔', '祜', '租', '壷', '嵐', '雉', '賽', '櫟', '皆', '芥', '桐', '枅', '祐', '刈', '鱒', '卦', '勅', '雛', '椛', '鑪', '蕨', '升', '鵤', '餌', '伍', '妹', '錨', '桾', '蒔', '且', '艘', '葡', '萄', '繖', '鉾', '呑', '芻', '炊', '臥', '麹', '刎', '斑', '俎', '婁', '橡', '呰', '笙', '杭', '崖', '苙', '閤', '咋', '遥', '堪', '鮭', '靭', '鎖', '旁', '鯨', '驢', '〆', '竿', '秀', '尉', '典', '蒄', '隧', '疫', '蔲', '嶮', '岨', '菩', '杠', '勿', '蒜', '鞆', '錆', 'ﾉ', '狸', '躍', '茜', '檍', '蔭', '枯', '幽', '靹', '琉', '柘', '榴', '疇', '楮', '宕', '眉', '麁', '笊', 'ヾ', '秡', '耆', '芹', '賊', '鳶', '塜', '醴', '寐', '孚', '葎', '樅', '拓', '玄', '蹈', '椅', '倭', '楜', '瀞', '彦', '杓', '葭', '餞', '凌', '駕', '輿', '滋', '弐', '唯', '裸', '錬', '曹', '竪', '馰', '将', '娵', '覆', '椹', '鰯', '箟', '咾', '祐', '匍', '匐', '犀', '斐', '袰', '綿', '蓼', '糯', '擣', '憑', '鋸', '糞', '杢', '鼈', '薦', '堕', '娜', '鶇', '枳', '虞', '椵', '瓶', '焚', '澳', '椒', '虻', '硴', '穏', '栫', '酉', '劫', '欝', '鰕', '釿', '蕗', '還', '寛', '庇', '喇', '膝', '畩', '桶', '緋', '姶', '孟', '燧', '轡', '酬', '碁', '裾', '熟', '蒙', '累', '縵', '蛮', '妃', '鹵', '趾', '槌', '蒋', '逺', '郭', '虹', '匂', '扠', '褥', '穿', '峻', '蒼', '淋', '壼', '徹', '戍', '檥', '膿', '釧', '椴', '廓', '唖', 'ㇼ', '艫', '鎬', '脛', '鱸', '衙', '笥', '棗', '兜', '捲', '檗', '淳', '隺', '泓', '閂', '薹', '隼', '祓', '攀', '碩', '鳰', '𠀋', '拳', '埇', '鍔', '疏', '篩', '只', '播', '但', '籤', '軌', '挊', '弗', '柊', '窄', '羊', '蹄', '嬬', '盆', '剗', '甫', '尚', '蜛', '蝫', '哮', '砲', '奇', '悦', '朧', '杏', 'ﾂ', '稙', '匹', '鄉', '伐', '萓', '煤', '殊', '㛔', '垳', '銃', '鷆', '鵈', '厘', '穆', '曰', '鐺', '槲', '鯖', '柵', '髭', '跿', '蔓', '脈', '珊', '滄', '尸', '堡', '榊', '擶', '烈', '擬', '蟻', '縫', '轆', '轤', '紬', '堵', '霜', '凝', '抓', '昆', '鋤', '荢', '莚', '鞴', '箒', '敵', '曷', '鉏', '翅', '茱', '萸', '艸', '泗', '捷', '筈', '螬', '搆', '筧', '釛', '廿', '舸', '蛍', '鯆', '姨', '填', '嵌', '潰', '綣', '户', '函', '涛', '沸', '丶', '鮒', '畚', '纏', '鎧', '曇', '餓', '硯', '嫦', '娥', '柀', '峴', '鱗', '裳', '汝', '垢', '晒', '狢', '逃', '掖', '簾', '唄', '禿', '婀', '颯', '彎', '疱', 'ゥ', '荏', '柯', '礬', '醤', '醍', '醐', '隘', '鄭', '姪', '湛', '菲', '韋', '籃', '挹', '蚫', '鎚', '潭', '曝', '渥', '秦', '甕', '肱', '蚕', '鵲', '槫', '毘', '藟', '靄', '捻', '遍', '鵺', '鰔', '勒', '蝶', '杼', '鑰', '鞠', '箙', '厨', '胆', '橲', '猨', '廟', '溜', '饗', '薪', '柞', '鋒', '鉃', '幢', '屎', '漲', '瑛', '珥', '諭', '吽', '潅', '葺', 'ぢ', '闇', '楚', '掴', '漸', '楷', '砺', '騎', '鋺', '釆', '仰', '楫', '蒿', '斉', 'ヽ', '淕', '贋', '蛙', '皂', '臘', '晴', '釶', '𡌛', '鴛', '鯉', '掎', '氐', '冑', '筥', '亘', '胄', '譚', '泳', '溷', '宋', '坤', '閼', '怡', '禎', '玻', '个', '糾', '頟', '這', '惚', '嵋', '搦', '穎', '娃', '葬', '樵', '卸', '跳', '襲', '嚶', '湘', '睨', '瑚', '牙', '莅', '圷', '湍', '桙', '搗', '迩', '鏑', '蚶', '祗', '牽', '曼', '胴', '嶬', '緞', '堹', '叉', '魹', '柦', '漘', '惟', '喬', '塊', '袒', '妓', '瀉', '埒', '征', '鉋', '穝', '掃', '㴻', '𦾔', '帷', '舛', '飫', '鵼', '筰', '畭', '帕', '嶝', '廠', '聚', '莿', '寮', '叺', '撓', '蹉', '跎', '杁', '醒', '幻', '寥', '或', '翳', '佃', '湫', '彰', '伹', '縞', '硲', '榲', '椽', '鴟', '鰹', '凰', '砕', '弩', '欄', '殻', '摶', '鳧', '辷', '唹', '萳', '閻', '贄', '臍', '𤦛', '辟', '鋭', '蒐', '藺', '后', '戊', '亥', '汪', '艾', '傅', '粥', '巽', '鎹', '岑', '夙', '轌', '棡', '刃', '蜻', '蛉', '麼', '郊', '溶', '湃', '荊', '蝋', '吊', '机', '蛟', '颪', '黛', '榆', '咩', '篝', '椈', '秩', '嗜', '螻', '楞', '妾', '塒', '掠', '鮑', '豹', '莎', '鼬', '吠', '畜', '幟', '廾', '連', '磑', '坼', '榿', '埵', '盞', '盬', '弰', '盈', '糧', '媚', '儺', '箆', '竉', '廊', '孔', '狙', '駮', '杙', '旛', '夭', '錐', '鑢', '囎', '蟷', '螂', '巡', '苞', '狂', '鞘', '斯', '侶', '瞥', '毬', '弦', '琳', '餉', '髻', '穢', '罵', '𪉩', '夂', '鮹', '漣', '玳', '陟', '柆', '亟', '鮖', '棕', '哭', '粗', '鍜', '嘯', '蝿', '薏', '斬', '瀦', '鐚', '嘘', '奕', '涯', '嘴', '弋', '秣', '蝙', '蝠', '鴇', '叚', '遭', '凡', '暑', '皀', '莢', '筅', '錠', '襟', '鑓', '捉', '椡', '楸', '詩', '朔', '繊', '莞', '犢', '眠', '娘', '稔', '縊', '廬', '髯', '髄', '檉', '梍', '橅', '笘', '燭', '𡋤', '毳', '銚', '懿', '剥', '臂', '旺', '櫤', '捏', '垪', '狛', '鑽', '嬢', '哈', '苕', '簟', '嫗', '墜', '袁', '苛', '漕', '庖', '淘', '烽', '竽', '聡', '坿', '濾', '笂', '樘', '嗽', '芽', '艦', '盲', '娑', '弼', '鰭', '泣', '毫', '弧', '稜', '姤', '磔', '鐰', '邦', '筍', '匝', '瑳', '潝', '霹', '靂', '苺', '筌', '槁', '薫', '禾', '塋', '洛', '粭', '拿', '哨', '汰', '戓', '閖', '鬚', '稽', '綺', '簇', '桔', '梗', '侭', '揃', '劉', '戴', '蝄', '蟾', '噴', '賦', '扶', '輾', '咸', '蜑', '鉦', '腐', '岼', '陪', '寤', '瘻', '慧', '鋏', '篁', '肋', '蜈', '蚣', '訶', '牲', '塵', '炮', '烙', '鵙', '噆', '舳', '覩', '邏', '鴦', '藁', '甥', '哘', '檞', '憎', '箞', '妋', '黍', '聯', '驕', '嗚', '岶', '籬', '孵', '芴', '蕉', '鱈', '霰', '煉', '呈', '祷', '髢', '崙', '猷', '耀', '圦', '孕', '拵', '按', '佩', '嫩', '鷁', '笏', '勺', '菻', '晃', '猩', '坡', '縷', '瀚', '鮟', '鱇', '簸', '綬', '祚', '舵', '駛', '到', '椌', '酘', '丙', '騰', '昏', '屶', '欒', '歎', '芒', '鏥', '嗛', '萇', '蒡', '莪', '逝', '簀', '袂', '奘', '諾', '糜', '𢈘', '諦', '楝', '羚', '已', '覓', '腋', '冒', '骸', '瞻', '嵭', '躄', '葹', '塀', '瞽', '凶', '蟇', '哀', '賂', '飩', '盾', '臀', '厄', '埖', '撥', '淮', '鐇', '貊', '栽', '裙', '汾', '鰄', '笄', '繕', '戈', '砦', '窕', '欽', '梺', '晦', '祁', '棹', '隄', '俄', '把', '凋', '坎', '墻', '齶', '椰', '屠', '獣', '逵', '鼕', '耙', '宦', '貰', '斛', '蒪', 'ゝ', '崛', '鑁', '掫', 'ゑ', '埃', '杻', '煩', '噶', '胼', '肆', '墳', '朦', '絞', '恭', '鍍', '朗', '蓁', '睡', '齎', '泌', '椥', '墹', '稀', '鹸', '廂', '瑟', '摸', '鍰', '㯮', '雅', '躬', '鰀', '臧', '漚', '鶚', '壕', '椀', '笩', '桴', '婿', '楲', '魵', '幙', '宛', '艮', '厭', '殷', '鷸', '詔', '訣', '既', '冕', '橇', '馘', '柧', '悴', '膏', '鬢', '貽', '誉', '鉞', '彊', '矛', '麿', '㓛', '洫', '猴', '菡', '萏', '允', '薢', '鵡', '堆', '鵐', '瓊', '﨟', '鬘', '諷', '鯏', '鴎', '霑', '盥', '熔', '汢', '𡋽', '篋', '狎', '鵝', '觜', '鶬', '媛', '扉', '椢', '寞', '峅', '鰡', '咥', '藎', '蟋', '蟀', '俸', '梔', '徒', '庻', '侈', '榁', '鰍', '炬', '鋙', '闍', '凹', '壗', '暫', '鮠', '鯎', '赦', '剃', '壟', '惹', '飢', '巓', '麒', '麟', '䇿', '哆', '犂', '屹', '坦', '駟', '掟', '襖', '粱', '肄', '鑵', '凸', '樏', '棍', '憚', '瀛', '匏', '桓', '𣖾', '舅', '蕐', '馞', '瓺', '囀', '誥', '鸕', '鷀', '妣', '貂', '弖', '鯔', '輜', '蓍', '臰', '喪', '偕', '飴', '瀁', '捫', '榧', '櫔', '樢', '魄', '鈑', '鰌', '芓', '雩', '鷓', '娓', '𣌀', '縺', '岻', '撞', '湄', '冏', '攵', '痕', '餇', '晞', '蕝', '糙', '呪', '蓙', '庤', '捶', '鴿', '蚯', '蚓', '槵', '罔', '桷', '蜘', '蛛', '謁', '鍾', '矩', '黎', '擢', '硝', '堝', '宫', '鵑', '侯', '粡', '嗣', '鎰', '慍', '苣', '襞', 'ㇲ', '紐', '蕤', '巒', '耘', '挪', '䰗', '鵇', '磴', '淹', '芭', '俘', '俺', '拐', '蹶', '鮗', '澪', '叢', '蹊', '峙', '俯', '樒', '悠', '晋', '祀', '葷', '蜀', '衲', '桎', '靇', '裴', '紾', '啄', '没', '頽', '鐸', '棺', '旻', '淤', '鬮', 'ㇳ', '碣', '駆', '荅', '伺', '蛾', '督', '樔', '梼', '禊', '逗', '朷', '猜', '袈', '裟', '乍', '鰈', '涅', '槃', '絣', '瑜', '迂', '哿', '掵', '笆', '琦', '榾', '唱', '翫', '緯', '㸃', '鐐', '鯱', '皓', '郛', '魁', '縢', '齟', '齬', '殯', '囚', '瑪', '瑙', '萃', '窮', '鎔', '虬', 'ゅ', '預', '翔', '枴', '汶', '鮐', '朸', '緤', '鞁', '卵', '樗', 'ㇾ', '杬', '雍', '螟', '篤', '岪', '郁', '袙', '牢', '孑', '苽', '袿', '閘', '楪', '秃', '找', '欫', '帔', '熨', '埆', '暁', '𨂻', '啣', '戌', '拆', '芍', '繞', '辿', '誂', '纐', '纈', '畏', '噉', '虱', '朶', '驫', '奨', '仞', '蝸', '擯', '旌', '嘗', '疥', '癬', '洦', '序', '㹨', '淅', '倒', '酊', '犾', '噛', '扮', '鑺', '陦', '荼', '﨔', '厂', '卿', '鵰', '胝', '几', '柤', '塢', '𡻕', '棘', '晏', '孀', '轄', '砧', '饌', '璉', '昧', '踞', '褒', '糘', '櫂', '傑', '譜', 'ゞ', '樮', '棯', '癸', '韃', '靼', '鷽', '篶', '广', '筐', '儈', '漫', '㳒', '爰', '籐', '皺', '朳', '挺', '嵶', '絛', '臚', '喉', '謳', '嗹', '鰆', '鰤', '垬', '咄', '昔', '哇', '阡', '櫝', '拉', '該', '娚', '稷', '楉', '粛', '礇', '龕', '猯', '翩', '芺', '寨', '棠', '抛', '辱', '瓷', '什', '秉', '樛', '钁', '幮', '罅', '秬', '哺', '鰾', '牌', '梳', '巍', '嘎', '慕', '聳', '灊', '擲', '巷', '舶', '竇', '慰', '麾', '茰', '滷', 'ヰ', '咫', '洒', '斥', '靡', '撒', '惧', '廩', '叨', '惺', '窩', '葱', '鸚', '怨', '畢', '麝', '瑩', '謂', '勃', '燐', '鄙', '鄲', '枋', '董', '瞳', '馭', '芙', '蓉', '磤', '緬', '捺', '瑘', '拇', '殕', '鰩', '蝮', '邾', '奢', '袗', '䙴', '泀', '擂', '馨', '㹅', '游', '团', '极', '销', '售', '对', '诉', '讼', '险', '见', '卫', '间', '盘', '业', '长', '车', '线', '龍', '勳', '军', '财', '为', '扩', '而', '选', '达', '國', '萬', '眾', '缘', '查', '结', '裕', '澤', '鍊', '鏞', '论', '价', '值', '叠', '赛', '头', '舱', '关', '进', '调', '电', '炸', '伤', '陡', '峭', '鸡', '启', '谈', '产', '响', '闸', '门', '强', '议', '树', '收', '货', '处', '炯', '术', '环', '冻', '饮', '热', '谢', '庆', '熙', '韩', '针', '桥', '时', '过', '钟', '辆', '灭', '园', 
                                '专', '记', '应', '话', '检', '测', '设', '咨', '询', '餐', '兰', '语', '义', '计', '划', '务', '动', '袍', '丝', '华', '洼', '宪', '这', '种', '你', '冤', '吗', '较', '误', '尔', '资', '讲', '镜', '厅', '贵', '宾', '东', '从', '纪', '遵', '规', '云', '预', '涂', '佰', '飞', '跃', '您', '说', '阁', '杨', '佑', '么', '报', '屁', '张', '样', '碰', '铺', '阳', '悬', '炫', '场', '邻', '鸦', '儿', '欢', '临', '杀', '单', '纯', '经', '兴', '圣', '钙', '质', '摆', '卖', '请', '离', '开', '满', '泽', '寬', '实', '费', '优', '饭', '壬', '淑', '评', '凤', '浙', '乌', '识', '鲜', '愤', '甩', '爱', '护', '岁', '节', '做', '邮', '编', '码', '权', '宁', '魏', '铁', '导', '联', '届', '访', '姚', '墙', '盖', '统', '众', '创', '亿', '戏', '证', '转', '蛋', '糕', '棱', '汽', '舍', '寶', '黃', '珉', '别', '营', '顿', '劝', '职', '习', '谁', '养', '馆', '艺', '总', '气', '奖', '刘', '迪', '层', '宏', '岔', '龙', '发', '笼', '份', '举', '锈', '钢', '渔', '腾', '农', '银', '观', '览', '鹏', '标', '决', '曉', '斤', '获', '朋', '边', '丽', '佛', '并', '崔', '拙', '脏', '辫', '吧', '弯', '师', '闭', '郝', '网', '凯', '问', '题', '严', '烟', '晚', '责', '很', '构', '买', '该', '训', '风', '鑫', '汤', '款', '珞', '试', '啊', '陈', '晤', '沃', '验', '抢', '挥', '练', '诚', '辅', '忧', '顺', '跨', '捐', '饼', '假', '槿', '摄', '违', '连', '倡', '驶', '办', '陆', '坛', '凉', '冰', '块', '铝', '窗', '滨', '岗', '罗', '员', '琼', '苏', '锁', '臻', '胁', '廖', '库', '输', '妥', '协', '传', '烤', '赢', '项', '细', '践', '灣', '會', '團', '粮', '执', '听', '监', '滿', '爬', '盐', '搞', '靠', '紧', '欧', '疯', '厕', '宽', '带', '苑', '涵', '淇', '苹', '际', '讨', '增', '享', '无', '锡', '岛', '烧', '净', '亨', '兆', '步', '坠', '玛', '纤', '钱', '揭', '沐', '柜', '击', '忆', '们', '谐', '嶽', '视', '频', '剧', '厢', '酷', '缆', '备', '冲', '畅', '纳', '亚', '变', '裵', '订', '蔷', '薇', '课', '套', '锦', '贯', '彻', '两', '维', '亮', '辣', '锅', '范', '级', '阶', '乐', '异', '类', '洵', '轩', '许', '奎', '还', '确', '骤', '盒', '红', '炳', '现', '瘾', '枉', '奋', '闰', '绝', '队', '继', '续', '驻', '跆', '肇', '曺', '인', '직', '窝', '补', '复', '鹤', '废', '济', '绩', '仪', '桌', '寻', '蘑', '菇', '距', '澈', '钓', '鸣', '卢', '铉', '滥', '箫', '醉', '侧', '疗', '终', '县', '减', '缩', '啟', '洁', '弃', '皙', '萎', '剩', '够', '给', '鹰', '赵', '每', '檔', '鲁', '织', '轻', '绒', '她', '亲', '棵', '圆', '鱼', '谜', '李', '荚', '蒾', '歉', '錄', '损', '欣', '镇', '围', '译', '归', '迈', '皋', '烦', '灾', '拟', '鸟', '觉', '仅', '丰', '战', '跟', '啥', '吁', '呢', '绕', '钮', '约', '匾', '墅', '罚', '窃', '认', '赁', '负', '荣', '涡', '轮', '囊', '纱', '竭', '勋', '默', '喧', '哗', '巖', '戰', '遗', '让', '绊', '录', '砍', '讯', '鲍', '纬', '沁', '脾', '另', '释', '荐', '劳', '吞', '陋', '储', '晓', '厉', '拥', '驿', '赶', '赴', '领', '跑', '虑', '韵', '纹', '饰', '弹', '趋', '势', '绿', '扬', '愿', '荞', '乡', '沪', '赋', '况', '汇', '贤', '筹', '偷', '审', '换', '喷', '泵', '孩', '媳', '妇', '础', '帮', '汉', '篆', '涉', '鸿', '药', '绍', '匡', '帘', '购', '鞋', '匙', '毙', '拎', '唤', '眞', '些', '钾', '绘', '赏', '焊', '氩', '胶', '踵', '詹', '顶', '鲨', '萨', '氛', '仑', '壹', '适', '幔', '淞', '姊', '玥', '咖', '啡', '欺', '诈', '晟', '腱', '脸', '载', '历', '硕', '鎭', '胜', '莲', '扁', '惊', '讶', '擦', '难', '膜', '渴', '零', '则', '肯', '顾', '互', '巢', '纺', '牵', '齿', '澡', '宠', '账', '亐', '聆', '烫', '埈', '昊', '婚', '显', '澜', '迹', '拯', '删', '图', '书', '膺', '拜', '酱', '焖', '壤', '栈', '挂', '簿', '臺', '摁', '奶', '竟', '贫', '潍', '槛', '闻', '碍', '纵', '饺', '诸', '圳', '远', '错', '軫', '铃', '纽', '旋', '仗', '郑', '态', '熹', '暻', '绪', '贸', '倚', '處', '饱', '额', '词', '聘', '须', '雕', '蔬', '歧', '拼', '灌', '溉', '摇', '滚', '斋', '赚', '盼', '闲', '卡', '妄', '怀', '伟', '罢', '刮', '诺', '钻', '曾', '败', '樓', '疆', '枫', '毁', '倾', '踩', '爸', '斌', '辈', '递', '贞', '艳', '蠢', '踪', '谊', '轨', '玫', '瑰', '键', '绑', '亏', '污', '橙', '糊', '详', '抚', '阅', '抵', '袭', '梦', '恢', '檬', '络', '签', '粪', '软', '碳', '叭', '泄', '泛', '贡', '渐', '肖', '暨', '閔', '顯', '矿', '艇', '檐', '镶', '册', '扣', '贼', '剂', '蓝', '沉', '鄂', '夸', '托', '玺', '偿', '姃', '涓', '涌', '冽', '笔', '泼', '泾', '竞', '迟', '玹', '惱', '拨', '妆', '栏', '庙', '稳', '仍', '宅', '哥', '烹', '综', '岭', '某', '垃', '圾', '渣', '焰', '熏', '岷', '压', '扳', '烘', '焙', '毅', '读', '诊', '妍', '侨', '喊', '币', '债', '辨', '躲', 'ο', '谨', '截', '盂', '尤', '扭', '组', '疲', '揽', '铜', '舫', '溪', '润', '闯', '马', '哪', '刹', '剑', '睛', '镁', '钛', '槟', '爷', '乔', '剖', '兪', '祯', '驰', '杆', '卧', '逼', '衷', '叹', '脑', '择', '飓', '圖', '驳', '瘫', '虽', '潘', '辖', '涪', '侦', '噢', '灿', '积', '俏', '恼', '毕', '溃', '酿', '舒', '婷', '劉', '俱', '铭', '雾', '惫', '銷', '發', '烂', '涨', '跌', '档', '浓', '纷', '陌', '挚', '狮', '胚', '塌', '扫', '锐', '链', '迁', '抉', '喂', '瑩', '碎', '伦', '劲', '掌', '喻', '祸', '碌', '尝', '舊', '徵', '姐', '浏', '奠', '莉', '掀', '诀', '扰', '衬', '隐', '瞒', '爽', '孙', '绸', '轴', '拖', '逾', '纉', '诞', '脉', '赔', '悉', '氟', '矣', '杰', '舰', '窺', '侵', '掉', '谋', '咳', '挤', '俞', '惨', '驾', '抒', '苒', '荡', '赌', '赞', '踢', '贪', '霉', '简', '伙', '龄', '谭', '蚀', '晨', '玲', '珑', '弄', '啦', '犷', '搁', '噗', '钩', '金', '篇', '價', '徑', '杂', '霓', '沫', '狡', '辩', '耍', '阴', '诡', '赫', '坚', '缓', '恶', '沟', '龋', '耻', '怎', '娶', '绎', '恰', '艰', '舆', '肤', '竣', '灵', '匪', '镐', '妈', '愧', '惩', '浑', '挑', '剔', '淌', '屿', '丢', '瓠', '苟', '陕', '伞', '奭', '暂', '榮', '旼', '骗', '谓', '伪', '赖', '逊', '浩', '缝', '仿', '搜', '抽', '胧', '诗', '芯', '肚', '脐', '厥', '裔', '噩', '馥', '裝', '佣', '挣', '梨', '纭', '缺', '夺', '"', '#', '$', '%', '&', "'", '(', ')', '*', '+', ',', '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '<', '=', '>', '?', '@', '[', '\\', ']', '^', '_', '`', '{', '|', '}', '~', '兔', '爵', '冈', '酋', '姆', '兹', '苇', '帚', '霍', '饲', '饶', '樱', '薰', '驹', '滩', '贝', '仔', '裤', '岙', '鳌', '驱', '蒂', '娱', '砖', '甸', '埔', '虾', '蘅', '齐', '尧', '磷', '啤', '仓', '鲤', '坝', '昕', '冯', '贾', '奧', '泻', '荆', '冢', '濑', '绮', '翡', '畈', '猎', '韦', '芬', '妮', '阀', '琅', '廈', '兽', '傻', '莊', '殡', '牦', '沧', '孜', '肮', '拱', '鸢', '贺', '喱', '帅', '豐', '榈', '榕', '泖', '玩', '峇', '颇', '镀', '篓', '烁', '娅', '苜', '蓿', '铸', '鹫', '塑', '咕', '噜', '窒', '璐', '鸥', '隱', '泺', '痪', '骏', '㐧', '遮', '骑', '坟', '泷', '涸', '廳', '皱', '菁', '濤', '禧', '虔', '齊', '蠡', '绅', '摊', '龟', '钦', '垒', '霄', '诹', '扒', '嫔', '湳', '賓', '苷', '莓', '榻', '莽', '庐', '醇', '讷', '壶', '颜', '缪', '荟', '翰', '罕', '冨', '栝', '葫', '粤', '皖', '腊', '梭', '坜', '琪', '塱', '缴', '栋', '砾', '壳', '雳', '號', '鹅', '铂', '犹', '颐', '鲭', '埤', '榭', '骐', '戚', '穗', '溧', '谏', '辽', '阮', '碾', '蕴', '驛', '喃', '硅', '页', '漳', '灶', '穷', '淝', '棉', '浞', '贴', '霸', '盎', '廣', '鸽', '厍', '姬', '卉', '茲', '吕', '焗', '缅', '浆', '窿', '它', '釉', '懒', '钳', '鸭', '绽', '饪', '坞', '藩', '廉', '垌', '驒', '疼', '龚', '栖', '洽', '稣', '腿', '讓', '贿', '赂', '蔡', '峄', '芜', '纲', '彤', '渊', '酪', '崋', '绫', '鉴', '矮', '胖', '谣', '冼', '绳', '禪', '辑', '篷', '贮', '炒', '腓', '實', '沂', '內', '沭', '厝', '楔', '筛', '纠', '锻', '炼', '铬', '闷', '诃', '霖', '锋', '肃', '窦', '妪', '桦', '岚', '谱', '狱', '钊', '囍', '颂', '氯', '叙', '粵', '鎏', '鹦', '鹉', '澎', '迭', '笃', '鹈', '鹊', '悅', '觅', '渝', '瘦', '變', '昂', '茉', '锯', '邓', '粘', '纸', '韧', '庞', '绥', '襄', '鹕', '矶', '溱', '潼', '蔽', '癌', '亩', '浍', '巩', '暉', '骊', '贩', '陞', '簧', '鳗', '镰', '蓖', '沥', '薯', '濠', '憩', '菏', '哦', '愈', '琯', '赣', '闪', '凑', '毗', '驼', '妖', '骆', '苓', '窑', '绵', '稍', '婴', '鹃', '咪', '靈', '滏', '亵', '渎', '磬', '儒', '堇', '馒', '氧', '雙', '佬', '觐', '攸', '偉', '辉', '麴', '桤', '椭', '烯', '筱', '茹', '挖', '豫', '褐', '鸮', '垄', '锚', '峦', '瓮', '尕', '圍', '邨', '昱', '樑', '刨', '刚', '甜', '蕾', '匯', '薈', '萤', '鲸', '篮', '咀', '吨', '阵', '璜', '璟', '钥', '獭', '悼', '崁', '喋', '楂', '氦', '懋', '涠', '鑼', '醫', '鳄', '濱', '勐', '秤', '栢', '𦘦', '铠', '汊', '凛', '龢', '匈', '笨', '穹', '虏', '怜', '縣', '潇', '丛', '馮', '搪', '磁', '碼', '涟', '𬇕', '叔', '衢', '犁', '栅', '澛', '鞑', '咏', '欖', '幫', '辦', '墩', '荃', '裹', '纫', '橄', '榄', '氓', '汕', '钣', '兑', '缤', '涤', '纶', '恤', '哑', '弊', '桢', '氣', '劈', '邵', '碟', '逻', '泔', '丫', '鬟', '苍', '隍', '眩', '晕', '苯', '柬', '绣', '囱', '佘', '坻', '诵', '敖', '粿', '袜', '桲', '椤', '滁', '聋', '璞', '𠮷', '嗯', '挡', '坯', '螃', '鹭', '粹', '枢', '窥', '帐', '圩', '凿', '捞', '肠', '邯', '郸', '贷', '爌', '驯', '钧', '罐', '漩', '濂', '甡', '蜗', '驴', '鬃', '蝴', '鳟', '栾', '锄', '骚', '框', '鳞', '葑', '羌', '垦', '枣', '赐', '趵', '淖', '噪', '桩', '睿', '旱', '骄', '傲', '踝', '聊', '垱', '傀', '儡', '藝', '侬', '阚', '婕', '沒', '陂', '苳', '舢', '莘', '雏', '羁', '泪', '訊', '緣', '敌', '漾', '雞', '胺', '孢', '氨', '酯', '埭', '腼', '腆', '岘', '谎', '勞', '屬', '亞', '宸', '沣', '诅', '咒', '怕', '觀', '彥', '桉', '瓏', '蚌', '茴', '辐', '茵', '鈺', '涩', '冉', '毋', '莒', '蜓', '犸', '枪', '霾', '黔', '俾', '侮', '肿', '漠', '叻', '迺', '蜡', '髓', '舜', '闾', '燊', '礐', '鲑', '砼', '來', '阆', '氪', '暹', '阎', '濮', '疹', '闹', '谟', '聪', '赠', '歇', '谅', '𠄼', '淨', '㘭', '媽', '昙', '汭', '猕', '膀', '瓯', '畲', '硦', '韭', '缉', '玷', '橱', '窖', '將', '鸠', '哄', '恆', '郜', '奚', '朵', '钴', '榉', '闽', '夹', '渼', '姻', '缸', '沩', '旷', '塭', '堑', '腳', '帛', '楹', '麥', '廁', '勁', '翎', '紊', '埗', '肛', '垭', '蚁', '遞', '蛳', '搅', '拌', '衞', '覽', '顷', '吳', '侣', '估', '滦', '飚', '咬', '鄢', '鲷', '丐', '羲', '铀', '鸾', '吼', '徽', '與', '瑄', '垸', '缦', '沾', '衩', '蘆', '汛', '阱', '翟', '萧', '晖', '逯', '菠', '萝', '應', '闵', '滙', '颛', '疃', '侏', '丞', '柠', '逄', '兖', '雹', '誼', '掩', '磅', '叮', '噹', '骷', '髅', '苴', '蕙', '枷', '桅', '嘛', '沄', '垧', '朐', '峽', '悔', '颤', '抖', '彌', '禮', '赎', '胥', '扔', '埕', '浊', '夯', '钰', '焿', '卤', '喘', '烛', '唁', '傳', '衰', '瀝', '栉', '鸳', '鸯', '酰', '陨', '昵', '茑', '萊', '恬', '蜥', '蜴', '洈', '泮', '忒', '滇', '沺', '坨', '鲣', '栀', '胀', '麋', '瞄', '坳', '鑾', '齒', '矫', '邂', '逅', '宥', '骋', '舔', '婪', '筝', '涞', '郏', '靓', '鲇', '撕', '鲈', '仇', '筠', '靶', '梧', '銮', '拣', '嘧', '啶', '稅', '蚵', '產', '浭', '邹', '兩', '坔', '牍', '瀼', '盔', '陇', '羟', '醛', '尘', '馅', '吻', '唑', '禺', '廌', '涿', '醋', '胰', '亳', '浣', '蔻', '溫', '獐', '锥', '霎', '腔', '颚', '浔', '磊', '渗', '拭', '诏', '胭', '咯', '簃', '埂', '帼', '籽', '榨', '桨', '嘿', '娛', '罩', '擎', '搭', '衫', '麵', '嚏', '戲', '曦', '㹧', '犭', '萣', '鳕', '硒', '崽', '谦', '沽', '毓', '鲛', '蠵', '蠃', '蝇', '裘', '閒', '莹', '嘻', '髑', '畸', '刍', '渍', '焕', '锆', '洰', '壓', '滘', '彝', '傣', '鳉', '畹', '娄', '牺', '钏', '巅', '閱', '脓', '蚬', '鹳', '堯', '綫', '缎', '裡', '哖', '竖', '惰', '凼', '溅', '鹎', '腥', '彪', '膽', '奸', '鄧', '侄', '潢', '悯', '郢', '耿', '涧', '砭', '莺', '诱', '饵', '酮', '鲫', '塅', '樾', '蕹', '轰', '赉', '芷', '劍', '壢', '芊', '颌', '凱', '忏', '庸', '甬', '藓', '澥', '嘲', '峯', '沱', '鵬', '贻', '挝', '囤', '阔', '痒', '癖', '膠', '耸', '沛', '拦', '葳', '瑃', '镟', '徙', '蚋', '豌', '饿', '绞', '洄', '閩', '煲', '锣', '砌', '茫', '絮', 
                                '睢', '貘', '辜', '壘', '轧', '彗', '拽', '邁', '穑', '檢', '崴', '隶', '醚', '镭', '橹', '挠', '轅', '輋', '棣', '瓣', '耒', '碱', '厌', '鲲', '衅', '龛', '璇', '烬', '點', '侠', '俭', '氮', '滤', '漪', '渤', '蓟', '镑', '崮', '啪', '寡', '嫂', '瞭', '邢', '屉', '蝎', '爹', '滯', '卞', '瓒', '屐', '冀', '廚', '哌', '蘖', '荫', '氹', '鹞', '惯', '捣', '凳', '茧', '铼', '羯', '翥', '夔', '羡', '颠', '嚣', '篱', '赭', '芎', '邗', '吡', '璀', '璨', '湜', '萍', '磋', '寰', '泸', '逛', '蚂', '龈', '酶', '饥', '萼', '歷', '鳝', '堎', '驮', '珲', '睫', '琐', '浇', '扑', '猗', '邀', '馔', '浯', '琏', '敞', '魷', '痹', '钲', '靛', '纜', '锌', '嗡', '乒', '乓', '侗', '铅', '喔', '粽', '岿', '呐', '滍', '瞪', '谘', '侩', '鹹', '凭', '颊', '奮', '坫', '𥴜', '痴', '畴', '訇', '颈', '匿', '仆', '脆', '罂', '蜃', '骡', '鉅', '菕', '蚝', '擴', '琨', '垫', '鸸', '鹋', '脖', '棧', '譽', '賣', '勵', '劃', '墘', '闊', '肾', '腺', '彬', '抄', '郫', '扞', '聂', '吝', '啬', '瑤', '烃', '槎', '篡', '暐', '筲', '珮', '锤', '笋', '鋲', '唾', '樨', '濕', '帜', '峒', '炖', '盏', '戟', '燮', '蒹', '漓', '湓', '凪', '垵', '侘', '茭', '磺', '抹', '舖', '啸', '嶋', '糬', '汴', '钵', '窎', '妤', '颖', '戶', '咙', '洺', '鄯', '壑', '蔺', '頌', '焉', '卍', '獾', '灝', '鸵', '恙', '躺', '缨', '郧', '钉', '慷', '慨', '鲟', '牯', '蝗', '浚', '藕', '銶', '琚', '蹦', '崠', '幺', '辕', '倩', '绯', '瀍', '掇', '蔴', '铳', '菉', '涮', '伶', '仃', '钼', '濉', '灞', '鄞', '匮', '闫', '淺', '拷', '慤', '摔', '澇', '蔗', '嗨', '獇', '酥', '熄', '颀', '叛', '涕', '茛', '㐂', '郦', '颍', '歸', '筷', '镂', '铣', '磡', '鹌', '鹑', '骅', '邺', '炜', '禔', '轿', '吵', '慌', '鶄', '玮', '圹', '芾', '壩', '咆', '洱', '躁', '涑', '芮', '衍', '洎', '跪', '蹟', '韶', '羹', '蔼', '蠕', '箔', '馈', '淬', '肢', '摧', '嘱', '邝', '煜', '揆', '躯', '梂', '聾', '憨', '𧒽', '碶', '掺', '鬱', '琰', '峁', '萘', '隽', '镍', '礦', '垅', '匕', '漈', '娟', '讽', '瘟', '廸', '寇', '桿', '唠', '褔', '毂', '钶', '荪', '浒', '鄱', '鯓', '吱', '涎', '漧', '羣', '邳', '斡', '饴', '渕', '渏', '绉', '煅', '鄰', '秸', '煥', '呃', '賈', '霆', '翱', '疮', '咚', '倦', '聲', '豬', '泞', '恕', '岞', '浬', '猖', '獗', '钯', '倢', '歐', '蛘', '酩', '涝', '險', '帥', '儲', '铫', '晉', '俥', '硐', '绢', '沅', '忤', '滬', '谴', '垴', '擘', '顽', '汫', '俪', '掷', '塆', '揉', '嗅', '疟', '毡', '垤', '蓓', '硼', '氰', '眷', '呛', '翮', '莆', '祟', '沚', '澹', '齡', '𤅶', '狞', '婺', '跛', '漱', '竂', '寵', '脷', '呀', '灡', '祿', '蚤', '栌', '阊', '悫', '哼', '髦', '殮', '浉', '洑', '對', '诫', '甪', '輞', '窰', '鲢', '呕', '玎', '珺', '汎', '刁', '戳', '虛', '狹', '擊', '黨', '瑾', '蜊', '塄', '浐', '鈔', '箴', '倻', '猾', '葩', '轭', '鹽', '據', '哒', '烷', '呵', '铨', '嘈', '镯', '饯', '嗎', '僅', '沔', '纂', '饞', '繩', '荧', '呗', '螳', '钒', '桡', '槺', '跤', '蘸', '蹲', '珩', '疽', '賴', '佤', '徕', '帏', '锺', '鱲', '碉', '隴', '恪', '烩', '箐', '猬', '乸', '吒', '狨', '擁', '镖', '铎', '贊', '燎', '澧', '祊', '崂', '枞', '漷', '趁', '荖', '嗷', '碘', '喹', '笫', '腈', '癫', '痫', '辇', '桒', '矽', '肽', '滠', '咽', '儋', '赃', '蹒', '跚', '峥', '琊', '罘', '锰', '哎', '犊', '鉌', '玍', '汞', '钍', '铐', '阈', '崆', '喼', '殉', '蒟', '蒻', '塬', '锠', '惇', '诠', '戛', '剎', '聰', '鈊', '輛', '绰', '淫', '饷', '晷', '麸', 'ы', 'Ｊ', '葚', '瑷', '渌', '鹗', '絲', '贱', '槊', '缔', '輕', '颗', '腻', '聽', '躉', '垾', '氢', '釋', '廍', '鳐', '殴', '溦', '觞', '婉', '喵', '谯', '苎', '饕', '繼', '椏', '缇', '鶯', '淄', '咱', '逍', '聿', '忻', '洮', '垩', '倪', 'ㄟ', '僻', '麟', '驷', '疙', '瘩', '韻', '鱿', '枧', '鰂', '嗝', '嫉', '妒', '捡', '娇', '覺', '漯', '瀨', '嵇', '恍', '嵛', '绛', '钤', '單', '慵', '飨', '羔', '濛', '筼', '筜', '潞', '呜', '燈', '衔', '鈕', '舾', '颁', '掬', '鑛', '駱', '伾', '陲', '鹄', '煦', '粄', '櫻', '鑄', '狷', '丿', '眶', '唉', '嵊', '囿', '蟒', '旃', '咧', '盜', '钜', '撇', '捍', '孺', '蕭', '炁', '颧', '秽', '镒', '锭', '踐', '𬶍', '洸', '鰴', '湟', '傈', '僳', '檜', '羿', '甄', '浃', '弈', '褚', '憬', '檎', '褴', '褛', '痣', '祂', '證', '鼯', '碴', '耦', '豁', '騷', '僖', '藿', '缯', '殼', '迢', '孛', '侖', '钞', '氿', '淼', '崑', '骂', '穌', '𬒔', '敕', '嬷', '凇', '鲶', '捆', '铲', '獲', '砚', '蜍', '铵', '爐', '旸', '锹', '籠', '囝', '囟', '蚱', '蜢', '廢', '骰', '囹', '黝', '櫚', '鎅', '嚴', '淦', '俩', '虐', '茆', '皎', '垡', '綉', '粳', '睾', '匆', '垛', '稃', '淜', '昴', '爭', '豔', '蠶', '蟆', '瘠', '渾', '骇', '橦', '仟', '謬', '跷', '洹', '靳', '酚', '澱', '藉', '槇', '掰', '呸', '缵', '玑', '陜', '戮', '梢', '褡', '裢', '侃', '焱', '蜞', '滔', '疳', '駝', '蝾', '螈', '桫', '晁', '鄠', '蕺', '敎', '蹬', '舘', '驅', '凫', '阉', '哟', '茚', '锗', '眨', '灜', '梿', '蕲', '鱟', '懷', '鰲', '懂', '铢', '鹬', '鸻', '栎', '吏', '撑', '坩', '埚', '黏', '廒', '沦', '纛', '蕩', '硤', '缬', '痊', '邡', '烨', '窨', '迳', '俬', '硏', '砵', '娲', '箩', '唛', '钹', '撷', '诲', '祺', '鲵', '樊', '镬', '黾', '朥', '嘟', '鷗', '荥', '沤', '哔', '哩', '乖', '啮', '怛', '浤', '窯', '烋', '湴', '綸', '蜙', '絜', '圪', '穩', '疊', '璠', '辊', '菘', '獸', '瞎', '晰', '舨', '黉', '豸', '岜', '蔸', '鏊', '趟', '嗇', '鄕', '琛', '囡', '騶', '伉', '儷', '霁', '镛', '緻', '吲', '哚', '辋', '辙', '尴', '尬', '憔', '桄', '誊', '沏', '鼾', '齖', '塍', '攤', '卅', '珙', '帑', '痨', '參', '詠', '呆', '杞', '骞', '埝', '爿', '恳', '鄣', '藪', '叁', '盹', '熬', '鄒', '幵', '矾', '飘', '蔣', '抬', '骼', '柭', '痤', '炽', '榖', '阙', '榅', '葍', '谬', '鸶', '绠', '怠', '餃', '蟲', '繭', '脿', '钗', '軟', '艷', '鼹', '沬', '廄', '缭', '锂', '砣', '壆', '盱', '翊', '吓', '桕', '塝', '笕', '呔', '邛', '崃', '嶂', '沌', '堉', '戀', '砝', '绺', '汹', '鈞', '儂', '锑', '钠', '敘', '磘', '禀', '孪', '匀', '枸', '缮', '钚', '氡', '拏', '暄', '硗', '碛', '媞', '倮', '遷', '樞', '晗', '泠', '涷', '犋', '阗', '酃', '亢', '堽', '飒', '曬', '矸', '郴', '睺', '邬', '鯊', '粑', '沋', '阌', '腌', '婊', '孖', '柒', '撬', '妞', '酝', '腩', '骶', '棂', '勛', '峤', '綏', '铛', '肅', '嶙', '峋', '醬', '棰', '痰', '眯', '踌', '躇', '倬', '醯', '寫', '漿', '闳', '秆', '炔', '嘶', '枙', '螯', '淆', '隋', '炀', '曆', '澀', '夼', '鳇', '迄', '崦', '芃', '岣', '妫', '砸', '涣', '秝', '駁', '闺', '蜿', '蜒', '岵', '铈', '蜱', '籁', '鳍', '茔', '雒', '飙', '骥', '搓', '巃', '恂', '髮', '覲', '剝', '噼', '𣚦', '粼', '铧', '滢', '讣', '雯', '秧', '诘', '扪', '蛏', '罍', '暢', '砻', '褪', '煊', '岈', '俠', '胍', '錻', '疤', '铄', '掣', '朏', '堃', '圮', '禵', '鲅', '茌', '陉', '䃟', '嬴', '渲', '軨', '磥', '愷', '珵', '呻', '焜', '硚', '薾', '祆', '醸', '谛', '諴', '苋', '馏', '缠', '倔', '缚', '韞', '鳅', '皑', '巉', '簕', '檪', '瘋', '鸬', '鹚', '璣', '礟', '惕', '淠', '娣', '菝', '厲', '蝌', '鸨', '蹩', '旮', '旯', '罟', '胱', '眙']
        
        else:
            if self.use_customer_dictionary.endswith('.pkl'):
                with open(self.use_customer_dictionary, 'rb') as fp:
                    self.CTLABELS = pickle.load(fp)
            elif self.use_customer_dictionary.endswith('.txt'):
                self.CTLABELS = []
                with open(self.use_customer_dictionary, 'r') as f: # load txt file
                    for line in f.readlines():
                        self.CTLABELS.append(line.strip())

        assert(int(self.voc_size - 1) == len(self.CTLABELS)), "voc_size is not matched dictionary size, got {} and {}.".format(int(self.voc_size - 1), len(self.CTLABELS))

    def draw_instance_predictions(self, predictions):
        if self.use_polygon:
            ctrl_pnts = predictions.polygons.numpy()
        else:
            ctrl_pnts = predictions.beziers.numpy()
        scores = predictions.scores.tolist()
        recs = predictions.recs

        self.overlay_instances(ctrl_pnts, recs, scores)

        return self.output

    def _ctrl_pnt_to_poly(self, pnt):
        if self.use_polygon:
            points = pnt.reshape(-1, 2)
        else:
            # bezier to polygon
            u = np.linspace(0, 1, 20)
            pnt = pnt.reshape(2, 4, 2).transpose(0, 2, 1).reshape(4, 4)
            points = np.outer((1 - u) ** 3, pnt[:, 0]) \
                + np.outer(3 * u * ((1 - u) ** 2), pnt[:, 1]) \
                + np.outer(3 * (u ** 2) * (1 - u), pnt[:, 2]) \
                + np.outer(u ** 3, pnt[:, 3])
            points = np.concatenate((points[:, :2], points[:, 2:]), axis=0)

        return points

    def _decode_recognition(self, rec):
        s = ''
        for c in rec:
            c = int(c)
            if c < self.voc_size - 1:
                s += self.CTLABELS[c]
            elif c == self.voc_size -1:
                s += u'口'
        return s
    
    
#     def _decode_recognition(self, rec):
#         s = ''
#         for c in rec:
#             c = int(c)
#             if c < self.voc_size - 1:
#                 if self.voc_size in [96, 14, 110, 84, 7005]:
#                     s += self.CTLABELS[c]
#                 else:
#                     s += str(chr(self.CTLABELS[c]))
#             elif c == self.voc_size -1:
#                 s += u'口'
#         return s

#     def _ctc_decode_recognition(self, rec):
#         # ctc decoding
#         last_char = False
#         s = ''
#         for c in rec:
#             c = int(c)
#             if c < self.voc_size - 1:
#                 if last_char != c:
#                     if self.voc_size in [96, 14, 110, 84, 7005]:
#                         s += self.CTLABELS[c]
#                         last_char = c
#                     else:
#                         s += str(chr(self.CTLABELS[c]))
#                         last_char = c
#             elif c == self.voc_size -1:
#                 s += u'口'
#             else:
#                 last_char = False
#         return s

    def overlay_instances(self, ctrl_pnts, recs, scores, alpha=0.5):
        color = (0.1, 0.2, 0.5)

        for ctrl_pnt, rec, score in zip(ctrl_pnts, recs, scores):
            polygon = self._ctrl_pnt_to_poly(ctrl_pnt)
            self.draw_polygon(polygon, color, alpha=alpha)

            # draw text in the top left corner
            
            text = self._decode_recognition(rec)
            text = "{:.3f}: {}".format(score, text)
            lighter_color = self._change_color_brightness(color, brightness_factor=0.7)
            text_pos = polygon[0]
            horiz_align = "left"
            font_size = self._default_font_size

            self.draw_text(
                text,
                text_pos,
                color=lighter_color,
                horizontal_alignment=horiz_align,
                font_size=font_size,
                draw_chinese=self.voc_size == 7005
            )
    
    def get_human_readable_prediction(self, predictions):

        # can deal with both polygon (TESTR) and bezier output (ABCNet)
        if self.use_polygon:
            ctrl_pnts = predictions.polygons.numpy()
        else:
            raise NotImplementedError

        scores = predictions.scores.tolist()
        recs = predictions.recs
        ret_predictions = []

        for ctrl_pnt, rec, score in zip(ctrl_pnts, recs, scores):
            if self.use_polygon:
                polygon = self._ctrl_pnt_to_poly(ctrl_pnt)
            else:
                raise NotImplementedError

            text = self._decode_recognition(rec)
            score = score 
            ret_predictions.append({'polygon_x': polygon[:, 0],'polygon_y': polygon[:, 1], 
                                    'text':text, 'score':score})
        return ret_predictions
            

    def draw_text(
        self,
        text,
        position,
        *,
        font_size=None,
        color="g",
        horizontal_alignment="center",
        rotation=0,
        draw_chinese=False
    ):
        """
        Args:
            text (str): class label
            position (tuple): a tuple of the x and y coordinates to place text on image.
            font_size (int, optional): font of the text. If not provided, a font size
                proportional to the image width is calculated and used.
            color: color of the text. Refer to `matplotlib.colors` for full list
                of formats that are accepted.
            horizontal_alignment (str): see `matplotlib.text.Text`
            rotation: rotation angle in degrees CCW
        Returns:
            output (VisImage): image object with text drawn.
        """
        if not font_size:
            font_size = self._default_font_size

        # since the text background is dark, we don't want the text to be dark
        color = np.maximum(list(mplc.to_rgb(color)), 0.2)
        color[np.argmax(color)] = max(0.8, np.max(color))
        
        x, y = position
        if draw_chinese:
            font_path = "./simsun.ttc"
            prop = mfm.FontProperties(fname=font_path)
            self.output.ax.text(
                x,
                y,
                text,
                size=font_size * self.output.scale,
                family="sans-serif",
                bbox={"facecolor": "black", "alpha": 0.8, "pad": 0.7, "edgecolor": "none"},
                verticalalignment="top",
                horizontalalignment=horizontal_alignment,
                color=color,
                zorder=10,
                rotation=rotation,
                fontproperties=prop
            )
        else:
            self.output.ax.text(
                x,
                y,
                text,
                size=font_size * self.output.scale,
                family="sans-serif",
                bbox={"facecolor": "black", "alpha": 0.8, "pad": 0.7, "edgecolor": "none"},
                verticalalignment="top",
                horizontalalignment=horizontal_alignment,
                color=color,
                zorder=10,
                rotation=rotation,
            )
        return self.output
